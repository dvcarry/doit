(this.webpackJsonpdo=this.webpackJsonpdo||[]).push([[0],{111:function(e,t,n){},132:function(e,t,n){},162:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},188:function(e,t,n){},190:function(e,t,n){},192:function(e,t,n){},195:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(25),r=n.n(c),s=n(51),i=n(9),u=(n(132),n(8)),o=n.n(u),l=n(11),d=n(22),j=n(75),b=n(74),p=n(38),f=n(73),O=(n(133),{id:0,name:"",type:"\u0437\u0430\u0434\u0430\u0447\u0430",period:0,balance:"",child:0,goal:!1,today:!1,repeat:!1,plan:"inbox",date:null,done:!1,donedate:null,action:null,repeatday:0}),h=["\u0440\u0430\u0431\u043e\u0442\u0430","\u043f\u0440\u043e\u0435\u043a\u0442","\u0441\u0435\u043c\u044c\u044f","\u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435","\u0431\u044b\u0442","\u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435","\u043e\u0442\u0434\u044b\u0445"],v="plan",x="done",m=[{eng:"today",ru:"\u0441\u0435\u0433\u043e\u0434\u043d\u044f",days:0},{eng:"tomorrow",ru:"\u0437\u0430\u0432\u0442\u0440\u0430",days:1},{eng:"aftertomorrow",ru:"\u043f\u043e\u0441\u043b\u0435\u0437\u0430\u0432\u0442\u0440\u0430",days:2}],k="new",y="project",g="task",w="day",N=Object(f.b)({name:"tasks",initialState:{tasks:[],projects:[],currentTask:null,isFetching:!1,modalIsOpen:!1,typeOfModal:"new",todaytasks:[],doneTasks:[],daytext:!1},reducers:{toggleFetching:function(e){e.isFetching=!e.isFetching},setTasks:function(e,t){e.tasks=t.payload},setTodayTasks:function(e,t){e.todaytasks=t.payload},setDoneTasks:function(e,t){e.doneTasks=t.payload},setDay:function(e,t){t.payload&&(e.daytext=!0)},saveTask:function(e,t){var n=e.tasks.map((function(t){return t.id===e.currentTask.id?Object(p.a)({},e.currentTask):t}));e.tasks=n},addTask:function(e,t){e.tasks=[].concat(Object(b.a)(e.tasks),[t.payload])},deleteTask:function(e,t){var n=e.tasks.filter((function(t){return t.id!==e.currentTask.id}));e.tasks=n},deleteProject:function(e,t){var n=e.projects.filter((function(e){return e.id!==t.payload}));e.projects=n},setProjects:function(e,t){e.projects=t.payload},setPlan:function(e,t){e.plan=t.payload.plan,e.filtertype=t.payload.filtertype},setWeek:function(e,t){e.week=t.payload},doTask:function(e,t){var n=t.payload,a=n.id,c=(n.parent,e.tasks.find((function(e){return e.id===a}))),r=e.tasks.filter((function(e){return e.id!==a}));e.tasks=r,e.doneTasks=[].concat(Object(b.a)(e.doneTasks),[c]),t.payload.parent.hasParent?(e.modalIsOpen=!0,e.typeOfModal=y,e.currentTask=t.payload.parent.project):e.modalIsOpen=!1},setCurrentTask:function(e,t){e.currentTask=t.payload},setModal:function(e,t){e.modalIsOpen=!0,e.typeOfModal=t.payload.typeOfModal},openNewTask:function(e,t){e.modalIsOpen=!0,e.typeOfModal=k,e.currentTask=O},setProject:function(e,t){e.modalIsOpen=!0,e.typeOfModal="project",e.currentTask=t.payload,e.isFetching=!1},closeModal:function(e){e.modalIsOpen=!1},changeCurrentTask:function(e,t){e.currentTask=Object(p.a)(Object(p.a)({},e.currentTask),{},Object(j.a)({},t.payload.type,t.payload.value))},addSubtask:function(e,t){e.tasks=[].concat(Object(b.a)(e.tasks),[t.payload]),e.currentTask.subtasks=[].concat(Object(b.a)(e.currentTask.subtasks),[t.payload])},setCurrentDay:function(e,t){e.date=t.payload},setCurrentPlan:function(e,t){e.isplan=t.payload},setSearch:function(e,t){e.search=t.payload}}}),_=N.actions,T=_.toggleFetching,C=_.setTasks,M=_.addTask,F=_.deleteTask,D=_.saveTask,P=_.doTask,S=(_.setPlanTasks,_.setTodayTasks),I=_.setDoneTasks,E=_.setProjects,Y=_.deleteProject,K=_.setProject,z=_.setCurrentTask,H=_.changeCurrentTask,L=_.addSubtask,R=_.openNewTask,U=_.setModal,A=_.closeModal,G=_.setDay,J=function(e){return e},V=N.reducer,q=n(24),B=n.n(q);B.a.defaults.baseURL="http://localhost:5002/api/";var W={getProjects:function(){return Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("projects");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getProject:function(e){return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.a.get("projects/"+e);case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},Q={addDayText:function(e){return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.a.post("days",{text:e});case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getDay:function(){return Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("days");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},X=function(){return Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("tasks/plan");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},Z=function(){return Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("tasks/today");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},$=function(){return Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("tasks/done");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},ee=function(e){return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.a.post("tasks",e);case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},te=function(e){return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.a.put("tasks",e);case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},ne=function(e){return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.a.delete("tasks/"+e);case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},ae=function(e){return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.a.post("tasks/do",{id:e});case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},ce=function(){return function(e){return e(T()),W.getProjects().then((function(t){return e(E(t)),e(T()),t}))}},re=function(e){return function(t){return t(T()),W.getProject(e).then((function(e){return t(K(e)),e}))}},se=function(){return function(e){return e(T()),X().then((function(t){return e(C(t)),e(T()),t}))}},ie=function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(T()),t.next=3,Q.addDayText(e);case 3:n(G(!0)),n(A()),n(T());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ue=function(e){return function(t){t(T()),ee(e).then((function(e){t(M(e)),t(T()),t(A())}))}},oe=function(e){return function(t){t(T()),te(e).then((function(e){t(D()),t(T()),t(A())}))}},le=function(e){return function(t){t(T()),ae(e).then((function(n){t(P({id:e,parent:n})),t(T())}))}},de=function(e,t){return function(){var n=Object(l.a)(o.a.mark((function n(a){var c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(T()),n.next=3,ne(e);case 3:if(a(F(e)),!t){n.next=11;break}return n.next=7,W.getProject(t);case 7:c=n.sent,a(K(c)),n.next=13;break;case 11:a(A()),a(T());case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},je=n(41),be=n(21),pe=n.n(be),fe=n(27),Oe=n(198),he=(n(162),n(1)),ve=function(e){var t=e.task,n=Object(i.b)(),c=Object(a.useState)(!1),r=Object(fe.a)(c,2),s=r[0],u=(r[1],Object(i.c)(J).isFetching),d=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(le(t.id));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(he.jsx)(he.Fragment,{children:u&&s?Object(he.jsx)(Oe.a,{}):Object(he.jsx)("div",{className:"docheck",onClick:d})})},xe=(n(174),n(175),function(e){var t=e.important,n=(e.date,["action"]);return t&&n.push("important"),Object(he.jsx)("div",{className:n.join(" ")})}),me=function(e){var t=e.value,n=e.type,a=Object(i.b)(),c=(new Date,Object(i.c)(J).filtertype,["task"]);n===x&&c.push("task-done");var r=["task_name"];return t.goal&&r.push("goal"),Object(he.jsxs)("div",{className:c.join(" "),children:[Object(he.jsxs)("div",{className:"task_left",children:[Object(he.jsxs)("div",{className:"task_tools",children:[Object(he.jsx)(xe,{important:t.important,date:t.date}),Object(he.jsx)(ve,{task:t})]}),Object(he.jsxs)("div",{className:"task_name",onClick:function(){a(U({typeOfModal:"task"})),a(z(t))},children:[Object(he.jsx)("span",{className:r.join(" "),children:t.name}),t.parentname?Object(he.jsx)("span",{className:"task_children",children:"<  ".concat(t.parentname)}):t.isparent?Object(he.jsx)("span",{className:"task_children",children:" >"}):null]})]}),Object(he.jsx)("div",{className:"task_right",children:Object(he.jsx)("div",{children:Object(he.jsx)("span",{className:"task_tag",children:t.balance})})})]})},ke=function(e){var t=m.find((function(t){return t.eng===e})).days,n=pe()().add(t,"days");return pe()(n).format("YYYY-MM-DD")},ye=function(e){var t=new Date;return e.filter((function(e){return pe()(e.date)<=t})).sort((function(e){return e.important?-1:1}))},ge=(n(176),function(){var e=Object(i.c)(J),t=e.tasks,n=(e.filtertype,e.search,Object(i.b)()),c=function(e){for(var t=[],n=1;n<e;n++){var a=pe()().add(n,"days"),c={raw:a.format("YYYY-MM-DD"),show:a.format("DD.MM dddd")};t.push(c)}return t}(14),r=ye(t),s=t.filter((function(e){return!e.date})),u=t.filter((function(e){return e.date&&"today"!==e.plan}));return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(se());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{className:"plantask_div",children:[Object(he.jsx)("div",{className:"plantask_date",children:"\u0418\u043d\u0431\u043e\u043a\u0441"}),s.map((function(e,t){return Object(he.jsx)(me,{index:t,value:e,type:v},e.id)}))]}),Object(he.jsxs)("div",{className:"plantask_div",children:[Object(he.jsx)("div",{className:"plantask_date",children:"\u0421\u0415\u0413\u041e\u0414\u041d\u042f"}),r.map((function(e,t){return Object(he.jsx)(me,{index:t,value:e,type:v},e.id)}))]}),c.map((function(e,t){var n=u.filter((function(t){return t.date===e.raw}));return Object(he.jsxs)("div",{className:"plantask_div",children:[Object(he.jsx)("div",{className:"plantask_date",children:e.show}),n.map((function(e,t){return Object(he.jsx)(me,{index:t,value:e,type:v},e.id)}))]},t)}))]})}),we=(n(177),n(178),function(){var e=Object(i.c)(J).currentTask;return Object(he.jsxs)("div",{className:"focustask",children:[Object(he.jsx)(ve,{}),Object(he.jsx)("span",{className:"focustask_heading",children:e.name}),e.childname?Object(he.jsx)("span",{children:" < ".concat(e.childname)}):null]})}),Ne=function(){var e=Object(i.b)(),t=Object(i.c)(J),n=t.tasks,c=t.currentTask,r=t.isFetching,s=Object(a.useState)(0),u=Object(fe.a)(s,2),d=u[0];u[1];return console.log("\ud83d\ude80 ~ file: Focus.js ~ line 17 ~ Focus ~ time",d),Object(a.useEffect)((function(){(function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(se());case 2:n=t.sent,a=n.find((function(e){return"today"===e.plan&&0===e.index})),e(z(a&&a||null));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[n.length]),r?null:Object(he.jsx)("div",{className:"focus_mode",children:c?Object(he.jsx)(we,{}):Object(he.jsx)("div",{children:"\u041d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447 \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"})})},_e=n(113),Te=n.n(_e),Ce=n(200),Me=n(201),Fe=n(202),De=n(199),Pe=n(124),Se=n(40),Ie=(n(188),function(e){var t=e.id,n=e.name,c=Object(a.useState)(!1),r=Object(fe.a)(c,2),s=r[0],u=r[1],d=Object(i.c)(J),j=d.projects,b=(d.isFetching,Object(i.b)()),p=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===j.length&&b(ce()),u(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=Ce.a.Option;return s?Object(he.jsx)(Ce.a,{showSearch:!0,style:{width:"100%"},onChange:function(e){b(H({type:"child",value:e}))},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:j.map((function(e){return Object(he.jsx)(f,{value:e.id,children:e.name})}))}):n?Object(he.jsx)(he.Fragment,{children:Object(he.jsx)("div",{className:"parenttask",onClick:function(){b(re(t))},children:n})}):Object(he.jsx)("a",{onClick:p,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f"})}),Ee=(n(111),Object(je.c)((function(){return Object(he.jsx)("span",{className:"draghandler",children:":::"})}))),Ye=Object(je.a)((function(e){var t=e.task,n=(e.change,Object(a.useState)(t.name)),c=Object(fe.a)(n,2),r=(c[0],c[1],Object(i.b)()),s="";if(t.date){var u=t.date.split("-");s=u[2]+"."+u[1]}return Object(he.jsxs)("div",{className:"subtask",children:[Object(he.jsx)(Ee,{}),Object(he.jsx)("span",{children:t.name}),Object(he.jsxs)("div",{className:"subtask_info",children:[Object(he.jsx)("span",{className:"subtask_plan",children:s}),Object(he.jsx)("span",{className:"subtask_go",onClick:function(){return r(U({typeOfModal:g,currentTask:t}))},children:">"})]})]})})),Ke=function(e){var t=e.name,n=void 0===t?"":t,c=e.close,r=e.goal,s=e.balance,u=e.child,o=e.plan,l=Object(a.useState)(n),d=Object(fe.a)(l,2),j=d[0],b=d[1],f=Object(i.b)();return Object(he.jsx)("div",{className:"subtask",children:Object(he.jsx)("input",{className:"subtask_input",value:j,onChange:function(e){return b(e.target.value)},onKeyPress:function(e){var t;13===e.charCode&&(f((t=Object(p.a)(Object(p.a)({},O),{},{goal:r,balance:s,child:u,name:j,plan:o}),function(e){e(T()),ee(t).then((function(t){e(L(t)),e(T())}))})),c())},autoFocus:""===n})})},ze=(n(60),Object(je.b)((function(e){var t=e.children;return Object(he.jsx)("div",{children:t})})),Object(je.b)((function(e){var t=e.children;return Object(he.jsx)("div",{children:t})}))),He={content:{top:"50%",left:"50%",width:"500px",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},Le={project:function(){var e=Ce.a.Option,t=Object(i.c)(J),n=t.currentTask,c=t.tasks,r=(t.isplan,t.isFetching),s=Object(i.b)(),u=Object(a.useState)(!1),d=Object(fe.a)(u,2),j=d[0],b=d[1],p=function(e,t){console.log("\ud83d\ude80 ~ file: ModalEdit.js ~ line 43 ~ handleChangeType ~ value",e,t),s(H({type:t,value:e}))},f=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.oldIndex,t.newIndex;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();c.find((function(e){return e.id===n.child}));return Object(he.jsxs)("div",{children:[Object(he.jsx)("div",{children:Object(he.jsxs)("div",{className:"flex",children:[Object(he.jsx)(ve,{task:n}),Object(he.jsx)(Se.a,{className:"input_name",value:n.name,onChange:function(e){H("name",e.target.value),s(H({type:"name",value:e.target.value}))}})]})}),Object(he.jsxs)("div",{className:"input_block",children:[Object(he.jsxs)("div",{className:"input_div",children:[Object(he.jsx)("div",{children:"\u0421\u0444\u0435\u0440\u0430 \u0436\u0438\u0437\u043d\u0438"}),Object(he.jsxs)(Ce.a,{onChange:function(e){return p(e,"balance")},value:n.balance,style:{width:200},size:"large",children:[Object(he.jsx)(e,{value:"\u0440\u0430\u0431\u043e\u0442\u0430",children:"\u0440\u0430\u0431\u043e\u0442\u0430"}),Object(he.jsx)(e,{value:"\u043f\u0440\u043e\u0435\u043a\u0442",children:"\u043f\u0440\u043e\u0435\u043a\u0442"}),Object(he.jsx)(e,{value:"\u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435",children:"\u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435"}),Object(he.jsx)(e,{value:"\u0441\u0435\u043c\u044c\u044f",children:"\u0441\u0435\u043c\u044c\u044f"}),Object(he.jsx)(e,{value:"\u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435",children:"\u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435"}),Object(he.jsx)(e,{value:"\u0431\u044b\u0442",children:"\u0431\u044b\u0442"}),Object(he.jsx)(e,{value:"\u043e\u0442\u0434\u044b\u0445",children:"\u043e\u0442\u0434\u044b\u0445"})]})]}),Object(he.jsxs)("div",{className:"input_div",children:[Object(he.jsx)("div",{children:"\u0426\u0435\u043b\u044c"}),Object(he.jsx)(Fe.a,{defaultChecked:n.goal,onChange:function(e){return p(e,"goal")}})]})]}),Object(he.jsxs)("div",{className:"subtask_block",children:[Object(he.jsx)("div",{children:"\u041f\u043e\u0434\u0437\u0430\u0434\u0430\u0447\u0438"}),Object(he.jsx)("div",{onClick:function(){return b(!0)},className:"subtask_button",children:"+"})]}),Object(he.jsx)(ze,{onSortEnd:f,useDragHandle:!0,children:n.subtasks.map((function(e,t){return Object(he.jsx)(Ye,{task:e,index:t},e.id)}))}),j?Object(he.jsx)(Ke,{close:function(){return b(!1)},goal:n.goal,balance:n.balance,child:n.id,plan:"inbox"}):null,Object(he.jsxs)("div",{className:"button_block",children:[Object(he.jsx)(Pe.a,{onClick:function(){n.balance&&s(oe(n))},loading:r,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(he.jsx)(Pe.a,{onClick:function(){var e;s((e=n.id,function(t){return t(T()),ne(e).then((function(n){t(Y(e)),t(T()),t(A())}))}))},loading:r,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},task:function(){var e=Ce.a.Option,t=Object(i.c)(J),n=t.currentTask,a=t.isFetching,c=Object(i.b)(),r=function(e,t){e.target?c(H({type:t,value:e.target.value})):c(H({type:t,value:e}))};return Object(he.jsxs)("div",{children:[Object(he.jsx)(Ie,{name:n.parentname,id:n.parentid}),Object(he.jsx)("div",{children:Object(he.jsxs)("div",{className:"flex",children:[Object(he.jsx)(ve,{task:n}),Object(he.jsx)(Se.a,{className:"input_name",value:n.name,onChange:function(e){H("name",e.target.value),c(H({type:"name",value:e.target.value}))}})]})}),Object(he.jsxs)("div",{className:"input_block",children:[Object(he.jsxs)("div",{className:"input_div",children:[Object(he.jsx)("div",{children:"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438"}),Object(he.jsxs)(Me.a.Group,{onChange:function(e){return r(e,"type")},value:n.type,children:[Object(he.jsx)(Me.a,{value:"\u0437\u0430\u0434\u0430\u0447\u0430",children:"\u0437\u0430\u0434\u0430\u0447\u0430"}),Object(he.jsx)(Me.a,{value:"\u043f\u0440\u043e\u0435\u043a\u0442",children:"\u043f\u0440\u043e\u0435\u043a\u0442"})]})]}),Object(he.jsxs)("div",{className:"input_div",children:[Object(he.jsx)("div",{children:"\u0421\u0444\u0435\u0440\u0430 \u0436\u0438\u0437\u043d\u0438"}),Object(he.jsxs)(Ce.a,{onChange:function(e){return r(e,"balance")},value:n.balance,style:{width:200},size:"large",children:[Object(he.jsx)(e,{value:"\u0440\u0430\u0431\u043e\u0442\u0430",children:"\u0440\u0430\u0431\u043e\u0442\u0430"}),Object(he.jsx)(e,{value:"\u043f\u0440\u043e\u0435\u043a\u0442",children:"\u043f\u0440\u043e\u0435\u043a\u0442"}),Object(he.jsx)(e,{value:"\u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435",children:"\u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435"}),Object(he.jsx)(e,{value:"\u0441\u0435\u043c\u044c\u044f",children:"\u0441\u0435\u043c\u044c\u044f"}),Object(he.jsx)(e,{value:"\u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435",children:"\u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435"}),Object(he.jsx)(e,{value:"\u0431\u044b\u0442",children:"\u0431\u044b\u0442"}),Object(he.jsx)(e,{value:"\u043e\u0442\u0434\u044b\u0445",children:"\u043e\u0442\u0434\u044b\u0445"})]})]})]}),Object(he.jsxs)("div",{className:"input_block",children:[Object(he.jsxs)("div",{className:"input_div",children:[Object(he.jsx)("div",{children:"\u0426\u0435\u043b\u044c"}),Object(he.jsx)(Fe.a,{defaultChecked:n.goal,onChange:function(e){return r(e,"goal")}})]}),Object(he.jsxs)("div",{className:"input_div",children:[Object(he.jsx)("div",{children:"\u0412\u0430\u0436\u043d\u043e"}),Object(he.jsx)(Fe.a,{defaultChecked:n.important,onChange:function(e){return r(e,"important")}})]})]}),"\u043f\u0440\u043e\u0435\u043a\u0442"!==n.type?Object(he.jsx)("div",{className:"input_block",children:Object(he.jsxs)("div",{className:"input_div",children:[Object(he.jsx)("div",{children:"\u0414\u0430\u0442\u0430"}),Object(he.jsx)(De.a,{value:n.date?pe()(n.date):null,onChange:function(e,t){c(H({type:"date",value:t}))},style:{width:200},size:"large"}),Object(he.jsx)("div",{children:m.map((function(e){return Object(he.jsx)("span",{className:"date_constant",onClick:function(){return function(e){var t=ke(e);c(H({type:"date",value:t}))}(e.eng)},children:e.ru},e.eng)}))})]})}):null,Object(he.jsxs)("div",{className:"button_block",children:[Object(he.jsx)(Pe.a,{onClick:function(){(n.balance||0!==n.child)&&c(oe(n))},loading:a,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(he.jsx)(Pe.a,{onClick:function(){c(de(n.id,n.child))},loading:a,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},new:function(){var e=Object(a.useState)(""),t=Object(fe.a)(e,2),n=t[0],c=t[1],r=Object(i.c)(J),s=r.currentTask,u=r.isFetching,o=Object(i.b)();return Object(he.jsxs)("div",{onKeyPress:function(e){13===e.charCode&&(e.preventDefault(),""!==n&&o(ue(Object(p.a)(Object(p.a)({},s),{},{name:n}))))},children:[Object(he.jsx)(Se.a,{value:n,className:"input_name",onChange:function(e){return c(e.target.value)},autoFocus:!0}),Object(he.jsx)("div",{className:"button_block",children:Object(he.jsx)(Pe.a,{onClick:function(){""!==n&&o(ue(Object(p.a)(Object(p.a)({},s),{},{name:n})))},loading:u,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})},day:function(){var e=Object(a.useState)(""),t=Object(fe.a)(e,2),n=t[0],c=t[1],r=Object(i.c)(J),s=(r.currentTask,r.isFetching),u=Object(i.b)();return Object(he.jsxs)("div",{onKeyPress:function(e){13===e.charCode&&e.ctrlKey&&""!==n&&u(ie(n))},children:[Object(he.jsx)(Se.a,{value:n,className:"input_name",onChange:function(e){return c(e.target.value)},autoFocus:!0}),Object(he.jsx)("div",{className:"button_block",children:Object(he.jsx)(Pe.a,{onClick:function(){""!==n&&u(ie(n))},loading:s,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})}},Re=function(){var e=Object(i.c)(J),t=e.modalIsOpen,n=e.typeOfModal,a=Object(i.b)(),c=Le[n];return Object(he.jsx)(Te.a,{isOpen:t,onRequestClose:function(){return a(A())},ariaHideApp:!1,style:He,children:Object(he.jsx)(c,{})})},Ue=(n(189),n(190),n(121)),Ae=(n(192),function(){var e=Object(i.c)(J).daytext,t=Object(i.b)();return Object(he.jsx)("div",{className:"mainheader",children:Object(he.jsxs)("div",{children:[Object(he.jsx)(s.b,{className:"mainheader_item",to:"/projects",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"}),Object(he.jsx)(s.b,{className:"mainheader_item",to:"/tasks",children:"\u041e\u0431\u0449\u0435\u0435 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(he.jsx)(s.b,{className:"mainheader_item",to:"/today",children:"\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043d\u044f"}),Object(he.jsx)(s.b,{className:"mainheader_item",to:"/do",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"}),e?null:Object(he.jsx)("span",{onClick:function(){t(U({typeOfModal:w}))},children:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"}),Object(he.jsx)("span",{})]})})}),Ge=function(e){var t=e.value,n=(e.type,e.childname),a=e.childdate,c=Object(i.b)(),r=(new Date,Object(i.c)(J).filtertype,function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(re(t.id));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),s=["task_name"];return t.goal&&s.push("goal"),Object(he.jsxs)("div",{className:"task",onClick:r,children:[Object(he.jsxs)("div",{className:"task_left",children:[Object(he.jsx)("div",{className:"task_tools",children:Object(he.jsx)(xe,{type:t.action})}),Object(he.jsx)("div",{className:"task_name",children:Object(he.jsx)("span",{className:s.join(" "),children:t.name})}),n?Object(he.jsx)("span",{className:"task_children",children:" > ".concat(n)}):null]}),Object(he.jsx)("div",{className:"task_right",children:Object(he.jsx)("div",{children:Object(he.jsx)("span",{className:"task_tag",children:a})})})]})},Je=function(){var e=Object(i.c)(J).projects,t=Object(i.b)();return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ce());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),0===e.length?null:Object(he.jsx)("div",{children:h.map((function(t){var n=e.filter((function(e){return e.balance===t}));return Object(he.jsxs)("div",{className:"plantask_div",children:[Object(he.jsx)("div",{className:"plantask_date",children:t}),n.map((function(e,t){return Object(he.jsx)(Ge,{index:t,value:e,childname:e.childname,childdate:e.childdate},e.id)}))]})}))})},Ve=(n(194),function(){var e=Object(i.c)(J),t=e.tasks,n=e.doneTasks,c=Object(i.b)();Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(T()),e.next=3,Z();case 3:return n=e.sent,e.next=6,$();case 6:a=e.sent,t(S(n)),t(I(a)),t(T());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var r=ye(t);return Object(he.jsxs)("div",{children:[Object(he.jsxs)("div",{className:"plantask_div",children:[Object(he.jsx)("div",{className:"plantask_date",children:"\u0421\u0415\u0413\u041e\u0414\u041d\u042f"}),r.map((function(e,t){return Object(he.jsx)(me,{index:t,value:e},e.id)}))]}),Object(he.jsxs)("div",{className:"plantask_div",children:[Object(he.jsx)("div",{className:"plantask_date",children:"\u0412\u042b\u041f\u041e\u041b\u041d\u0415\u041d\u041e"}),n.map((function(e,t){return Object(he.jsx)(me,{index:t,value:e,type:x},e.id)}))]})]})});var qe=function(){var e=Object(i.b)(),t={MOVE_UP:function(t){return e(R())}},n=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(T()),e.next=3,Q.getDay();case 3:n=e.sent,t(G(n)),t(T());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){n()})),Object(he.jsx)(Ue.GlobalHotKeys,{keyMap:{MOVE_UP:"ctrl+enter"},handlers:t,children:Object(he.jsx)("div",{className:"App",children:Object(he.jsxs)("div",{className:"wrapper",children:[Object(he.jsx)(Ae,{}),Object(he.jsxs)(d.c,{children:[Object(he.jsx)(d.a,{exact:!0,path:"/",component:ge}),Object(he.jsx)(d.a,{exact:!0,path:"/tasks",component:ge}),Object(he.jsx)(d.a,{exact:!0,path:"/today",component:Ve}),Object(he.jsx)(d.a,{exact:!0,path:"/projects",component:Je}),Object(he.jsx)(d.a,{path:"/focus",component:Ne})]}),Object(he.jsx)(Re,{})]})})})},Be=Object(f.a)({reducer:V,middleware:Object(f.c)(),devTools:!1});r.a.render(Object(he.jsx)(s.a,{children:Object(he.jsx)(i.a,{store:Be,children:Object(he.jsx)(qe,{})})}),document.getElementById("root"))},60:function(e,t,n){}},[[195,1,2]]]);
//# sourceMappingURL=main.937ebb43.chunk.js.map
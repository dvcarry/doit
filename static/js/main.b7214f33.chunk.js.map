{"version":3,"sources":["config/domain.js","app/taskReducer.js","api/tasks.js","app/thunks.js","components/Do/Do.js","components/Action/Action.js","components/Task/Task.js","config/helpers.js","pages/Tasks.js","components/FocusTask/FocusTask.js","pages/Focus.js","components/ParentTask/ParentTask.js","components/Subtask/Subtask.js","components/Subtask/SubtaskEdit.js","components/ModalForm/ProjectForm.js","components/ModalForm/ModalEdit.js","components/ModalForm/ModalForm.js","components/ModalForm/TaskForm.js","components/ModalForm/ModalNew.js","components/MainHeader/MainHeader.js","components/Project/Project.js","pages/Projects.js","pages/Today.js","App.js","app/store.js","index.js"],"names":["CURRENT_TASK","id","name","type","period","balance","child","goal","today","repeat","plan","date","done","donedate","action","repeatday","BALANCE","TASK_TYPES","DATE_CONSTANTS","eng","ru","days","MODAL_TYPES","tasksSlice","createSlice","initialState","tasks","projects","currentTask","isFetching","modalIsOpen","typeOfModal","todaytasks","reducers","toggleFetching","state","setTasks","payload","setTodayTasks","saveTask","newTasks","map","task","addTask","deleteTask","filter","deleteProject","newProjects","project","setProjects","setPlan","filtertype","setWeek","week","doTask","parent","hasParent","setCurrentTask","setModal","subtasks","setProject","closeModal","changeCurrentTask","value","addSubtask","setCurrentDay","setCurrentPlan","isplan","setSearch","search","actions","setPlanTasks","upTask","selectTasks","changePlan","axios","defaults","baseURL","API","getProjects","get","data","console","log","getProject","project_id","post","put","task_id","delete","index","getProjectsThunk","dispatch","then","response","getProjectThunk","getTasksThunk","addTaskThunk","newTask","saveTaskThunk","doTaskThunk","deleteTaskThunk","Do","useDispatch","useState","current","useSelector","doneHandler","a","className","onClick","Action","important","classes","push","join","Task","Date","dateClasses","moment","isSame","isAfter","parentname","isparent","getDateFromConstant","date_constant","find","item","result","add","format","filterTodayTasks","sort","Tasks","dates","i","dateObject","raw","show","getDatesForPeriod","todayTasks","inboxTasks","otherTasks","useEffect","getTasks","tasksForDate","FocusTask","childname","Focus","time","length","ParentTask","isParent","setIsParent","startChooseParent","Option","Select","showSearch","style","width","onChange","filterOption","input","option","children","toLowerCase","indexOf","DragHandle","sortableHandle","SortableElement","change","dateFormat","dateFormatArray","split","SubtaskEdit","close","setInput","e","target","onKeyPress","event","charCode","autoFocus","SortableContainer","sortableContainer","customStyles","content","top","left","right","bottom","marginRight","transform","modals","isSubtask","setIsSubtask","handleChangeType","sortHandler","oldIndex","newIndex","size","defaultChecked","onSortEnd","useDragHandle","subtask","loading","parentid","Group","dateString","dateConstant","setDateFromConstants","new","setName","ctrlKey","ModalForm","ModalComponent","isOpen","onRequestClose","ariaHideApp","MainHeader","to","Project","childdate","openProject","Projects","Today","App","handlers","MOVE_UP","keyMap","exact","path","component","configureStore","reducer","taskReducer","middleware","getDefaultMiddleware","devTools","process","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.b7214f33.chunk.js","sourcesContent":["export const taskFilter = ['все', \"задача\", \"проект\", \"привычка\", \"другое\"]\r\n\r\n\r\nexport const OPTIONS = {\r\n    type: [\r\n        { value: 'задача', label: 'Задача' },\r\n        { value: 'привычка', label: 'Привычка' }\r\n    ],\r\n    balance: [\r\n        { value: 'работа', label: 'Работа' },\r\n        { value: 'проект', label: 'Проект' },\r\n        { value: 'развитие', label: 'Развитие' },\r\n        { value: 'семья', label: 'Семья' },\r\n        { value: 'здоровье', label: 'Здоровье' },\r\n    ],\r\n    period: [\r\n        { value: 15, label: 15 },\r\n        { value: 30, label: 30 },\r\n        { value: 45, label: 45 },\r\n        { value: 60, label: 60 },\r\n        { value: 90, label: 90 },\r\n    ],\r\n    plan: [\r\n        { value: 'today', label: 'today' },\r\n        { value: 'inbox', label: 'inbox' },\r\n        { value: 'upcoming', label: 'upcoming' },\r\n        { value: 'later', label: 'later' },\r\n    ]\r\n}\r\n\r\nexport const CURRENT_TASK = {\r\n    id: 0,\r\n    name: '',\r\n    type: 'задача',\r\n    period: 0,\r\n    balance: '',\r\n    child: 0,\r\n    goal: false,\r\n    today: false,\r\n    repeat: false,\r\n    plan: 'inbox',\r\n    date: null,\r\n    done: false,\r\n    donedate: null,\r\n    action: null,\r\n    repeatday: 0\r\n}\r\n\r\nexport const BALANCE = ['работа', 'проект', \"семья\", \"здоровье\", \"быт\", \"развитие\", \"отдых\"]\r\nexport const PLANS = ['today', 'week', 'upcoming', \"later\"]\r\n\r\nexport const TASK_TYPES = {\r\n    plan: 'plan',\r\n    today: 'today'\r\n}\r\n\r\nexport const DATE_CONSTANTS = [\r\n    { eng: 'today', ru: 'сегодня', days: 0 }, { eng: 'tomorrow', ru: 'завтра', days: 1 }, { eng: 'aftertomorrow', ru: 'послезавтра', days: 2 }\r\n]\r\n\r\nexport const MODAL_TYPES = {\r\n    new: 'new',\r\n    project: 'project',\r\n    task: 'task'\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\"\r\nimport arrayMove from 'array-move';\r\nimport { MODAL_TYPES } from \"../config/domain\";\r\n\r\n\r\n\r\n\r\nexport const tasksSlice = createSlice({\r\n    name: 'tasks',\r\n    initialState: {\r\n        tasks: [],\r\n        projects: [],\r\n        currentTask: null,\r\n        isFetching: false,\r\n        modalIsOpen: false,\r\n        typeOfModal: 'new',\r\n        todaytasks: [],\r\n        \r\n        // today: [],\r\n        // doneTasks: [],\r\n        // week: [],\r\n        // plan: 'today',\r\n        // filtertype: 'plan',\r\n        \r\n        \r\n        \r\n        // date: '',\r\n        // isplan: false,\r\n        // search: ''\r\n    },\r\n    reducers: {\r\n        toggleFetching: state => {\r\n            state.isFetching = !state.isFetching\r\n        },\r\n        setTasks: (state, action) => {\r\n            state.tasks = action.payload\r\n        },\r\n        setTodayTasks: (state, action) => {\r\n            state.todaytasks = action.payload\r\n            // state.doneTasks = action.payload.doneTasks\r\n        },\r\n        saveTask: (state, action) => {\r\n            const newTasks = state.tasks.map(task => task.id === state.currentTask.id ? ({...state.currentTask}) : task)\r\n            state.tasks = newTasks\r\n        },\r\n        addTask: (state, action) => {\r\n            state.tasks = [...state.tasks, action.payload]\r\n        },\r\n        deleteTask: (state, action) => {\r\n            const newTasks = state.tasks.filter(task => task.id !== state.currentTask.id)\r\n            state.tasks = newTasks\r\n        },\r\n        deleteProject: (state, action) => {\r\n            const newProjects = state.projects.filter(project => project.id !== action.payload)\r\n            state.projects = newProjects\r\n        },\r\n        setProjects: (state, action) => {\r\n            state.projects = action.payload\r\n        },\r\n        setPlan: (state, action) => {\r\n            state.plan = action.payload.plan\r\n            state.filtertype = action.payload.filtertype\r\n        },\r\n        setWeek: (state, action) => {\r\n            state.week = action.payload\r\n        },\r\n        doTask: (state, action) => {\r\n\r\n            const { id, parent } = action.payload\r\n\r\n            const newTasks = state.tasks.filter(task => task.id !== id)\r\n            state.tasks = newTasks\r\n\r\n            // открыть родителя если это была подзадача\r\n            // const parentTask = state.tasks.find(task => task.id === parent)\r\n\r\n            if (action.payload.parent.hasParent) {\r\n                state.modalIsOpen = true\r\n                state.typeOfModal = MODAL_TYPES.project\r\n                state.currentTask = action.payload.parent.project\r\n            } else {\r\n                state.modalIsOpen = false\r\n            }\r\n        },\r\n        setCurrentTask: (state, action) => {\r\n            state.currentTask = action.payload\r\n        },\r\n        setModal: (state, action) => {\r\n            state.modalIsOpen = true\r\n            state.typeOfModal = action.payload.typeOfModal\r\n            const subtasks = state.tasks.filter(task => task.child === action.payload.currentTask.id && !task.done)\r\n            state.currentTask = { ...action.payload.currentTask, subtasks: subtasks }\r\n        },\r\n        setProject: (state, action) => {\r\n            state.modalIsOpen = true\r\n            state.typeOfModal = 'project'\r\n            state.currentTask = action.payload\r\n            state.isFetching = false\r\n        },\r\n        \r\n        closeModal: state => {\r\n            state.modalIsOpen = false\r\n        },\r\n        changeCurrentTask: (state, action) => {\r\n            state.currentTask = { ...state.currentTask, [action.payload.type]: action.payload.value }\r\n        },\r\n        addSubtask: (state, action) => {\r\n            state.tasks = [...state.tasks, action.payload]\r\n            // state.tasks[action.payload.plan] = [...state.tasks[action.payload.plan], action.payload]\r\n            state.currentTask.subtasks = [...state.currentTask.subtasks, action.payload]\r\n        },\r\n        setCurrentDay: (state, action) => {\r\n            state.date = action.payload\r\n        },\r\n        setCurrentPlan: (state, action) => {\r\n            state.isplan = action.payload\r\n        },\r\n        setSearch: (state, action) => {\r\n            state.search = action.payload\r\n        }\r\n    },\r\n});\r\n\r\n\r\n// actions\r\n\r\nexport const { toggleFetching,\r\n    setTasks, addTask, deleteTask, saveTask, doTask,\r\n    setPlanTasks, setTodayTasks,\r\n    setPlan,\r\n    setProjects, deleteProject, setProject,\r\n    upTask,\r\n    setCurrentTask, changeCurrentTask,\r\n    addSubtask,\r\n    setModal, closeModal,\r\n    setCurrentDay, setCurrentPlan,\r\n    setSearch,\r\n    changePlan,    \r\n} = tasksSlice.actions;\r\n\r\n\r\n\r\nexport const selectTasks = state => state\r\n\r\n\r\nexport default tasksSlice.reducer;","import axios from 'axios'\r\n\r\naxios.defaults.baseURL = 'http://82.146.40.11:5002/api/';\r\n// axios.defaults.baseURL = 'http://localhost:5002/api/';\r\n\r\nexport const API = {\r\n    project: {\r\n        async getProjects() {\r\n            try {\r\n                const { data } = await axios.get('projects')\r\n                return data\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        },\r\n        async getProject(project_id) {\r\n            try {\r\n                const { data } = await axios.get('projects/' + project_id)\r\n                return data\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        },\r\n    },\r\n    async getTasks() {\r\n        try {\r\n            const { data } = await axios.get('tasks/plan')\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    async getTodayTasks() {\r\n        try {\r\n            const { data } = await axios.get('tasks/today')\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    async getDoneTasks() {\r\n        try {\r\n            const { data } = await axios.get('tasks/done')\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    async addTask(task) {\r\n        try {\r\n            const { data } = await axios.post('tasks', task)\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    async editTask(task) {\r\n        try {\r\n            const { data } = await axios.put('tasks', task)\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    async deleteTask(task_id) {\r\n\r\n        try {\r\n            const { data } = await axios.delete('tasks/' + task_id)\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    async reindex(plan, oldIndex, newIndex) {\r\n        try {\r\n            await axios.put('tasks/reindex', { plan, oldIndex, newIndex })\r\n            // return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    async up(index, task_id) {\r\n        try {\r\n            await axios.put('tasks/up', { index, task_id })\r\n            // return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    async do(id) {\r\n        try {\r\n            const { data } = await axios.post('tasks/do', { id })\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    // async do(id, index, plan) {\r\n    //     try {\r\n    //         await axios.put('tasks/do', {id, index, plan})\r\n    //         // return data\r\n    //     } catch (error) {\r\n    //         console.log(error)\r\n    //     }\r\n    // },\r\n    async getTodayPlan() {\r\n        try {\r\n            const { data } = await axios.get('days')\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    async addTodayPlan() {\r\n        try {\r\n            const { data } = await axios.post('days')\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    async changePlan(task_id, oldPlan, newPlan, oldIndex, newIndex) {\r\n        try {\r\n            const { data } = await axios.put('tasks/replan', { task_id, oldPlan, newPlan, oldIndex, newIndex })\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    async getWeek() {\r\n        try {\r\n            const { data } = await axios.get('tasks/week')\r\n            return data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n    // async getPlanTasks() {\r\n    //     try {\r\n    //         const { data } = await axios.get('tasks/plan')\r\n    //         return data\r\n    //     } catch (error) {\r\n    //         console.log(error)\r\n    //     }\r\n    // },\r\n}","import { API } from '../api/tasks'\r\nimport { toggleFetching, setProjects, setCurrentTask, deleteProject, setTasks, closeModal, upTask, doTask, addTask, deleteTask, setCurrentPlan, setTodayTasks, saveTask, addSubtask, setCurrentDay, changePlan, setModal, setProject, } from './taskReducer'\r\n\r\nexport const getProjectsThunk = () => dispatch => {\r\n    dispatch(toggleFetching())\r\n    return API.project.getProjects()\r\n        .then(response => {\r\n            dispatch(setProjects(response))\r\n            dispatch(toggleFetching())\r\n            return response\r\n        })\r\n}\r\n\r\nexport const getProjectThunk = (project_id) => dispatch => {\r\n    dispatch(toggleFetching())\r\n    return API.project.getProject(project_id)\r\n        .then(response => {\r\n            dispatch(setProject(response))\r\n            return response\r\n        })\r\n}\r\n\r\nexport const deleteProjectThunk = (project_id) => dispatch => {\r\n    dispatch(toggleFetching())\r\n    return API.deleteTask(project_id)\r\n        .then(response => {\r\n            dispatch(deleteProject(project_id))\r\n            dispatch(toggleFetching())\r\n            dispatch(closeModal())\r\n        })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const getTasksThunk = () => dispatch => {\r\n    dispatch(toggleFetching())\r\n    return API.getTasks()\r\n        .then(response => {\r\n            dispatch(setTasks(response))\r\n            dispatch(toggleFetching())\r\n            return response\r\n        })\r\n}\r\n\r\nexport const getTodayTasksThunk = () => dispatch => {\r\n    console.log('getthunk')\r\n    dispatch(toggleFetching())\r\n    return API.getTodayTasks()\r\n        .then(response => {\r\n            dispatch(setTodayTasks(response))\r\n            dispatch(toggleFetching())\r\n            return response\r\n        })\r\n}\r\n\r\n\r\n\r\n// export const getPlanTasksThunk = () => dispatch => {\r\n//     dispatch(toggleFetching())\r\n//     return API.getPlanTasks()\r\n//         .then(response => {\r\n//             dispatch(setPlanTasks(response))\r\n//             dispatch(toggleFetching())\r\n//             return response\r\n//         })\r\n// }\r\n\r\nexport const addTaskThunk = (newTask) => dispatch => {\r\n    dispatch(toggleFetching())\r\n    API.addTask(newTask)\r\n        .then(response => {\r\n            dispatch(addTask(response))\r\n            dispatch(toggleFetching())\r\n            dispatch(closeModal())\r\n        })\r\n}\r\n\r\nexport const saveTaskThunk = (task) => dispatch => {\r\n    dispatch(toggleFetching())\r\n    API.editTask(task)\r\n        .then(response => {\r\n            dispatch(saveTask())\r\n            dispatch(toggleFetching())\r\n            dispatch(closeModal())\r\n        })\r\n}\r\n\r\n// export const doTaskThunk = (id, index, plan) => dispatch => {\r\n//     dispatch(toggleFetching())\r\n//     API.do(id, index, plan)\r\n//         .then(response => {\r\n//             dispatch(doTask(id))\r\n//             dispatch(toggleFetching())\r\n//             // dispatch(closeModal())\r\n//         })\r\n// }\r\n\r\nexport const doTaskThunk = (id) => dispatch => {\r\n    dispatch(toggleFetching())\r\n    API.do(id)\r\n        .then(response => {\r\n            dispatch(doTask({ id, parent: response }))\r\n            dispatch(toggleFetching())\r\n            // dispatch(closeModal())\r\n        })\r\n}\r\n\r\nexport const deleteTaskThunk = (task_id) => dispatch => {\r\n    dispatch(toggleFetching())\r\n    API.deleteTask(task_id)\r\n        .then(response => {\r\n            dispatch(deleteTask(task_id))\r\n            dispatch(toggleFetching())\r\n            dispatch(closeModal())\r\n        })\r\n}\r\n\r\nexport const addSubtaskThunk = (newTask) => dispatch => {\r\n    dispatch(toggleFetching())\r\n    API.addTask(newTask)\r\n        .then(response => {\r\n            dispatch(addSubtask(response))\r\n            dispatch(toggleFetching())\r\n        })\r\n}\r\n\r\nexport const upTaskThunk = (index, task_id) => dispatch => {\r\n    dispatch(toggleFetching())\r\n    API.up(index, task_id)\r\n        .then(response => {\r\n            dispatch(upTask({ index, task_id }))\r\n            dispatch(toggleFetching())\r\n        })\r\n}\r\n\r\n\r\n\r\n\r\nexport const getPlanThunk = (date) => dispatch => {\r\n    dispatch(toggleFetching())\r\n    API.getTodayPlan()\r\n        .then(response => {\r\n            dispatch(setCurrentDay(date))\r\n            dispatch(setCurrentPlan(response))\r\n            dispatch(toggleFetching())\r\n        })\r\n}\r\n\r\nexport const addPlanThunk = () => dispatch => {\r\n    dispatch(toggleFetching())\r\n    API.addTodayPlan()\r\n        .then(response => {\r\n            dispatch(setCurrentDay(response.date))\r\n            dispatch(setCurrentPlan(true))\r\n            dispatch(toggleFetching())\r\n        })\r\n}\r\n\r\nexport const changePlanThunk = (task_id, oldPlan, newPlan, oldIndex, newIndex) => dispatch => {\r\n    dispatch(toggleFetching())\r\n    API.changePlan(task_id, oldPlan, newPlan, oldIndex, newIndex)\r\n        .then(response => {\r\n            console.log('change')\r\n            dispatch(changePlan({ task_id, oldPlan, newPlan, oldIndex, newIndex }))\r\n            // dispatch(setCurrentPlan(true))\r\n            dispatch(toggleFetching())\r\n        })\r\n}","import { Spin } from 'antd';\r\nimport React, { useState } from 'react';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectTasks } from '../../app/taskReducer';\r\nimport { doTaskThunk } from '../../app/thunks';\r\n\r\nimport './Do.css'\r\n\r\n\r\nexport const Do = ({ task }) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [current, setCurrent] = useState(false)\r\n\r\n    const { isFetching } = useSelector(selectTasks)\r\n\r\n    const doneHandler = async () => {\r\n        await dispatch(doTaskThunk(task.id))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                (isFetching && current)\r\n                    ? <Spin />\r\n                    : <div\r\n                        className='docheck'\r\n                        onClick={doneHandler}\r\n                    />\r\n            }\r\n        </>\r\n\r\n        // <div\r\n        //     className='docheck'\r\n        //     onClick={doneHandler}\r\n        // />\r\n    )\r\n}","import React from 'react';\r\nimport './Action.css'\r\n\r\nexport const Action = ({ important, date }) => {\r\n\r\n    const classes = ['action']\r\n    if (important) {\r\n        classes.push('important')\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={classes.join(' ')}\r\n        >\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { SortableElement, sortableHandle } from 'react-sortable-hoc';\r\nimport moment from 'moment';\r\n\r\nimport { selectTasks, setModal,  } from '../../app/taskReducer';\r\nimport { upTaskThunk } from '../../app/thunks';\r\nimport { Do } from '../Do/Do';\r\n// import { TasksContext } from '../../hooks/useTasks';\r\nimport './index.css'\r\nimport { Action } from '../Action/Action';\r\nimport { TASK_TYPES } from '../../config/domain';\r\n\r\n// export const Task = ({ name, clickDone, id, type, period, balance, children, goal, today }) => {\r\n\r\n\r\n// const DragHandle = sortableHandle(() => <span className='draghandler'>:::</span>);\r\n\r\n\r\nexport const Task = ({ value, type }) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const today = new Date()\r\n\r\n    const { filtertype } = useSelector(selectTasks)\r\n\r\n    const upTask = () => {\r\n        dispatch(upTaskThunk(value.index, value.id))\r\n    }\r\n\r\n    let classes = ['task_name']\r\n    if (value.goal) {\r\n        classes.push('goal')\r\n    }\r\n\r\n    // if (value.plan === 'today' && moment(today).isAfter(new Date(value.date), 'day')) {\r\n    //     classes.push('goal')\r\n    // }\r\n\r\n\r\n\r\n    // if (value.type === 'проект') {\r\n    //     classes.push('project')\r\n    // }\r\n\r\n    let dateClasses = ['task_tag']\r\n    if (moment(today).isSame(new Date(value.date), 'day')) {\r\n        dateClasses.push('day_today')\r\n    }\r\n    if (moment(today).isAfter(new Date(value.date), 'day')) {\r\n        dateClasses.push('importantTag')\r\n    }\r\n\r\n    let periodClasses = ['task_tag']\r\n    if (value.period === 5) {\r\n        periodClasses.push('importantTag')\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className='task'            \r\n        >\r\n            <div className='task_left'>\r\n                <div className='task_tools'>\r\n                    <Action important={value.important} date={value.date}/>\r\n                    <Do task={value} />\r\n                </div>\r\n                <div\r\n                    className='task_name'\r\n                    onClick={() => dispatch(setModal({ typeOfModal: 'task', currentTask: value }))}\r\n                >\r\n                    <span\r\n                        className={classes.join(' ')}\r\n                    >\r\n                        {value.name}\r\n                    </span>\r\n                    {\r\n                        value.parentname\r\n                            ? <span className='task_children'>\r\n                                {`<  ${value.parentname}`}\r\n                            </span>\r\n                            : value.isparent\r\n                                ? <span className='task_children'>{' >'}</span>\r\n                                : null\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className='task_right'>\r\n                <div>\r\n                    {/* <span className='task_tag'> */}\r\n                    {/* <span className={periodClasses.join(' ')}>\r\n                        {value.period}\r\n                    </span> */}\r\n                    {\r\n                        filtertype === 'plan' ? <span className='task_tag'>{value.balance}</span> : <span className='task_tag'>{value.plan}</span>\r\n                    }\r\n\r\n                    {/* <span className={dateClasses.join(' ')}>\r\n                        {\r\n                            value.date ? moment(value.date).format('DD.MM') : null\r\n                        }\r\n                    </span> */}\r\n                    {\r\n                        type === TASK_TYPES.today\r\n                            ? <span\r\n                                onClick={upTask}\r\n                                className='task_up'>\r\n                                &#8597;\r\n                                </span>\r\n                            : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// export default SortableElement(Task)","import moment from 'moment';\r\nimport { DATE_CONSTANTS } from './domain';\r\n\r\nexport const getTimeFromMins = mins => {\r\n    let hours = Math.trunc(mins/60);\r\n    let minutes = mins % 60;\r\n    return hours + '-' + minutes.toString().padStart(2, 0);\r\n};\r\n\r\nexport const getDatesForPeriod = period => {\r\n    const dates = []\r\n    for (let i = 1; i < period; i++) {\r\n        const date = moment().add(i, 'days')\r\n        const dateObject = { raw: date.format('YYYY-MM-DD'), show: date.format('DD.MM dddd') }\r\n        dates.push(dateObject)\r\n        // onlyDates.push(date.format('YYYY-MM-DD'))\r\n    }\r\n    return dates\r\n};\r\n\r\n\r\nexport const getDateFromConstant = date_constant => {\r\n    const objectFromDateConstant = DATE_CONSTANTS.find(item => item.eng === date_constant)\r\n    const days = objectFromDateConstant.days\r\n    const today = moment()\r\n    const result = today.add(days, 'days')\r\n    const formatResult = moment(result).format('YYYY-MM-DD')\r\n    return formatResult\r\n};\r\n\r\n\r\nexport const filterTodayTasks = tasks => {\r\n    const today = new Date()\r\n    return tasks\r\n    .filter(task => moment(task.date) <= today)\r\n    .sort(task => task.important ? -1 : 1) \r\n}","import { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { selectTasks } from '../app/taskReducer';\r\nimport { getTasksThunk } from '../app/thunks';\r\nimport { Task } from '../components/Task/Task';\r\nimport { TASK_TYPES } from '../config/domain';\r\nimport { filterTodayTasks, getDatesForPeriod } from '../config/helpers';\r\n\r\nimport './routes.css'\r\n\r\n\r\n\r\nexport const Tasks = () => {\r\n\r\n    const { tasks, filtertype, search } = useSelector(selectTasks)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    // if (search !== '') {\r\n    //     planTasks = tasks.filter(task => task.name.toLowerCase().includes(search.toLowerCase()))\r\n    // }\r\n\r\n    const dates = getDatesForPeriod(14)\r\n\r\n    // const todayTasks = tasks.filter(task => moment(task.date) <= today)\r\n    const todayTasks = filterTodayTasks(tasks)\r\n    const inboxTasks = tasks.filter(task => !task.date)\r\n    const otherTasks = tasks.filter(task => task.date && task.plan !== 'today')\r\n\r\n    useEffect(() => {\r\n        const getTasks = async () => {\r\n            dispatch(getTasksThunk())\r\n        }\r\n        getTasks()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <div className='plantask_div'>\r\n                <div className='plantask_date'>Инбокс</div>\r\n                {\r\n                    inboxTasks.map((task, index) => (\r\n                        <Task\r\n                            key={task.id}\r\n                            index={index}\r\n                            value={task}\r\n                            type={TASK_TYPES.plan}\r\n                        />\r\n                    ))\r\n                }\r\n            </div>\r\n            <div className='plantask_div'>\r\n                <div className='plantask_date'>СЕГОДНЯ</div>\r\n                {\r\n                    todayTasks.map((task, index) => (\r\n                        <Task\r\n                            key={task.id}\r\n                            index={index}\r\n                            value={task}\r\n                            type={TASK_TYPES.plan}\r\n                        />\r\n                    ))\r\n                }\r\n            </div>\r\n            {\r\n                dates.map((date, index) => {\r\n                    const tasksForDate = otherTasks.filter(task => task.date === date.raw)\r\n\r\n                    return (\r\n                        <div className='plantask_div' key={index}>\r\n                            <div className='plantask_date'>{date.show}</div>\r\n                            {\r\n                                tasksForDate.map((task, index) => (\r\n                                    <Task\r\n                                        key={task.id}\r\n                                        index={index}\r\n                                        value={task}\r\n                                        type={TASK_TYPES.plan}\r\n                                    />\r\n                                ))\r\n                            }\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </>\r\n    )\r\n}","import { useSelector } from 'react-redux';\r\nimport { selectTasks } from '../../app/taskReducer';\r\nimport { Do } from '../Do/Do';\r\n\r\nimport './FocusTask.css'\r\n\r\n\r\nexport const FocusTask = () => {\r\n\r\n    // const dispatch = useDispatch()\r\n\r\n    const { currentTask } = useSelector(selectTasks)\r\n\r\n    return (\r\n        <div className='focustask'>\r\n            <Do />\r\n            <span className='focustask_heading'>{currentTask.name}</span>\r\n            {\r\n                currentTask.childname \r\n                ? <span>{` < ${currentTask.childname}`}</span> \r\n                : null\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\n\r\nimport { selectTasks, setCurrentTask } from '../app/taskReducer';\r\nimport { getTasksThunk } from '../app/thunks';\r\nimport { Button } from '../components/Button/Button';\r\nimport { FocusTask } from '../components/FocusTask/FocusTask'\r\n\r\n\r\nexport const Focus = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const { tasks, currentTask, isFetching } = useSelector(selectTasks)\r\n\r\n    const [time, setTime] = useState(0)\r\n    console.log(\"🚀 ~ file: Focus.js ~ line 17 ~ Focus ~ time\", time)\r\n\r\n    // let timer = new moment.duration(1000).timer();\r\n\r\n    // let timer = setInterval(setTime(time + 1), 1000);\r\n\r\n    // const startTimer = () => {\r\n    //     console.log(time)\r\n    //     timer = setInterval(setTime(time + 1), 1000);\r\n    // }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const getTasks = async () => {\r\n            const newTasks = await dispatch(getTasksThunk())\r\n            const currentTask = newTasks.find(task => task.plan === 'today' && task.index === 0)\r\n            if (currentTask) {\r\n                dispatch(setCurrentTask(currentTask || null))\r\n            } else {\r\n                dispatch(setCurrentTask(null))\r\n            }\r\n        }\r\n        getTasks()\r\n    }, [tasks.length])\r\n\r\n    if (isFetching) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className='focus_mode'>\r\n            {\r\n                currentTask\r\n                    ? <FocusTask />\r\n                    : <div>Нет задач на сегодня</div>\r\n            }\r\n            {/* <Button\r\n                title='Старт'\r\n                // click={startTimer}\r\n            /> */}\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Select } from 'antd';\r\n\r\nimport { selectTasks, changeCurrentTask, setModal } from '../../app/taskReducer';\r\nimport { getProjectsThunk, getProjectThunk } from '../../app/thunks';\r\nimport './ParentTask.css'\r\n\r\n\r\nexport const ParentTask = ({ id, name }) => {\r\n\r\n    const [isParent, setIsParent] = useState(false)\r\n    const { projects, isFetching } = useSelector(selectTasks)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const startChooseParent = async () => {\r\n        if (projects.length === 0) {\r\n            dispatch(getProjectsThunk())\r\n        }\r\n        setIsParent(true)\r\n    }\r\n\r\n    const handleChangeType = (value) => {\r\n        dispatch(changeCurrentTask({ type: 'child', value }))\r\n    }\r\n\r\n    const clickHandler = () => {\r\n        dispatch(getProjectThunk(id))\r\n    }\r\n\r\n    const { Option } = Select;\r\n\r\n    if (isParent) {\r\n        return (\r\n            <Select\r\n                showSearch\r\n                style={{ width: '100%' }}\r\n                // onChange={value => handleChangeType(value, 'child')} value={currentTask.child}\r\n                onChange={handleChangeType}\r\n                // value={currentTask.child}\r\n                filterOption={(input, option) =>\r\n                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                }\r\n            >\r\n                {\r\n                    projects.map(task => <Option value={task.id}>{task.name}</Option>)\r\n                }\r\n            </Select>\r\n        )\r\n    }\r\n\r\n\r\n    if (!name) {\r\n        return (\r\n            <a\r\n                onClick={startChooseParent}\r\n            >\r\n                Добавить родителя\r\n            </a>)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className='parenttask'\r\n                onClick={clickHandler}\r\n\r\n            >\r\n                {name}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n// export const ParentTask = ({ task }) => {\r\n\r\n//     const dispacth = useDispatch()\r\n\r\n//     const clickHandler = () => {\r\n//         dispacth(setModal({typeOfModal: 'edit', currentTask: task}))\r\n//     }\r\n\r\n//     return (\r\n//         <>\r\n//             <div\r\n//                 className='parenttask'\r\n//                 onClick={clickHandler}\r\n\r\n//             >\r\n//                 {task.name}\r\n//             </div>\r\n//         </>\r\n//     )\r\n// }","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { SortableElement, sortableHandle } from 'react-sortable-hoc';\r\n\r\nimport { setModal } from '../../app/taskReducer'\r\nimport { MODAL_TYPES } from '../../config/domain';\r\nimport './Subtask.css'\r\n\r\nconst DragHandle = sortableHandle(() => <span className='draghandler'>:::</span>);\r\n\r\n\r\nconst Subtask = ({ task, change }) => {\r\n\r\n    const [input, setInput] = useState(task.name)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const handleBlur = () => {\r\n        if (input !== '') {\r\n            change(task.id, input)\r\n        }\r\n    }\r\n\r\n    let dateFormat = ''\r\n    if (task.date) {\r\n        const dateFormatArray = task.date.split('-')\r\n        dateFormat = dateFormatArray[2] + '.' + dateFormatArray[1]\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className='subtask'>\r\n            <DragHandle />\r\n            <span>\r\n                {task.name}\r\n            </span>\r\n            {/* <input\r\n                className='subtask_input'\r\n                value={input}\r\n                onChange={e => setInput(e.target.value)}\r\n                onBlur={handleBlur}\r\n                autoFocus={task.name === ''}\r\n            /> */}\r\n            <div className='subtask_info'>\r\n                <span className='subtask_plan'>{dateFormat}</span>\r\n                <span\r\n                    className='subtask_go'\r\n                    onClick={() => dispatch(setModal({ typeOfModal: MODAL_TYPES.task, currentTask: task }))}\r\n                >\r\n                    {'>'}\r\n                </span>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SortableElement(Subtask)","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { addSubtaskThunk } from '../../app/thunks';\r\nimport { CURRENT_TASK } from '../../config/domain';\r\n\r\nimport './Subtask.css'\r\n\r\n\r\nexport const SubtaskEdit = ({ name = '', close, goal, balance, child, plan }) => {\r\n\r\n    const [input, setInput] = useState(name)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const saveKeyHandler = event => {\r\n        if (event.charCode === 13) {\r\n            dispatch(addSubtaskThunk({...CURRENT_TASK, goal: goal, balance: balance, child: child, name: input, plan: plan}))\r\n            close()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='subtask'>\r\n            <input\r\n                className='subtask_input'\r\n                value={input}\r\n                onChange={e => setInput(e.target.value)}\r\n                onKeyPress={saveKeyHandler}\r\n                autoFocus={name === ''}\r\n            />\r\n        </div>\r\n    );\r\n};","import React, { useState } from 'react';\r\nimport { DatePicker, Select, Button, Radio, Switch } from 'antd';\r\nimport moment from 'moment';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { sortableContainer } from 'react-sortable-hoc';\r\n\r\nimport { ParentTask } from '../ParentTask/ParentTask';\r\nimport Subtask from '../Subtask/Subtask';\r\nimport { SubtaskEdit } from '../Subtask/SubtaskEdit';\r\nimport { Do } from '../Do/Do';\r\n\r\nimport { changeCurrentTask, selectTasks } from '../../app/taskReducer';\r\nimport { deleteProjectThunk, deleteTaskThunk, saveTaskThunk } from '../../app/thunks';\r\n\r\nimport './ModalForm.css'\r\nimport { getDateFromConstant } from '../../config/helpers';\r\nimport { DATE_CONSTANTS } from '../../config/domain';\r\n\r\n\r\nconst SortableContainer = sortableContainer(({ children }) => {\r\n    return <div>{children}</div>;\r\n});\r\n\r\n\r\nexport const ProjectForm = () => {\r\n\r\n    const { Option } = Select;\r\n    const { currentTask, tasks, isplan, isFetching } = useSelector(selectTasks)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [isSubtask, setIsSubtask] = useState(false)\r\n\r\n    const handleChangeName = e => {\r\n        changeCurrentTask('name', e.target.value)\r\n        dispatch(changeCurrentTask({ type: 'name', value: e.target.value }))\r\n    }\r\n\r\n    const handleChangeType = (value, option) => {\r\n        console.log(\"🚀 ~ file: ModalEdit.js ~ line 43 ~ handleChangeType ~ value\", value, option)\r\n        dispatch(changeCurrentTask({ type: option, value }))\r\n        // dispatch(changeCurrentTask({ type: option, value: value.target.value }))\r\n    }\r\n\r\n\r\n    // const keyPressHandler = e => {\r\n    //     if (e.keyCode === 13 && e.ctrlKey) {\r\n    //         setIsSubtask(true)\r\n    //     }\r\n    // }\r\n\r\n    const deleteHandler = () => {\r\n        dispatch(deleteProjectThunk(currentTask.id))\r\n    }\r\n\r\n    const saveCurrentTask = () => {\r\n        if (currentTask.balance) {\r\n            dispatch(saveTaskThunk(currentTask))\r\n        }        \r\n    }\r\n\r\n    const sortHandler = async ({ oldIndex, newIndex }) => {\r\n        // setTasks(tasks => arrayMove(tasks, oldIndex, newIndex))\r\n        // await API.reindex(plan, oldIndex, newIndex)\r\n    }\r\n\r\n    const parentTasks = tasks.find(task => task.id === currentTask.child)\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div className='flex'>\r\n                    <Do task={currentTask} />\r\n                    <TextareaAutosize\r\n                        className='input_name'\r\n                        value={currentTask.name}\r\n                        onChange={handleChangeName}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className='input_block'>\r\n                <div className='input_div'>\r\n                    <div>Сфера жизни</div>\r\n                    <Select\r\n                        onChange={value => handleChangeType(value, 'balance')}\r\n                        value={currentTask.balance}\r\n                        style={{ width: 200 }}\r\n                        size='large'\r\n                    >\r\n                        <Option value=\"работа\">работа</Option>\r\n                        <Option value=\"проект\">проект</Option>\r\n                        <Option value=\"развитие\">развитие</Option>\r\n                        <Option value=\"семья\">семья</Option>\r\n                        <Option value=\"здоровье\">здоровье</Option>\r\n                        <Option value=\"быт\">быт</Option>\r\n                        <Option value=\"отдых\">отдых</Option>\r\n                    </Select>\r\n                </div>\r\n                <div className='input_div'>\r\n                    <div>Цель</div>\r\n                    <Switch defaultChecked={currentTask.goal} onChange={value => handleChangeType(value, 'goal')} />\r\n                </div>\r\n            </div>\r\n\r\n            {/* <div className='input_block'>\r\n\r\n            </div> */}\r\n\r\n\r\n            <div className='subtask_block'>\r\n                <div>Подзадачи</div>\r\n                <div\r\n                    onClick={() => setIsSubtask(true)}\r\n                    className='subtask_button'\r\n                >\r\n                    +\r\n                </div>\r\n            </div>\r\n\r\n            <SortableContainer\r\n                onSortEnd={sortHandler}\r\n                useDragHandle\r\n            >\r\n                {currentTask.subtasks.map((subtask, index) => (\r\n                    <Subtask\r\n                        task={subtask}\r\n                        key={subtask.id}\r\n                        index={index}\r\n                    />\r\n                ))}\r\n            </SortableContainer>\r\n            {\r\n                isSubtask\r\n                    ? <SubtaskEdit\r\n                        close={() => setIsSubtask(false)}\r\n                        goal={currentTask.goal}\r\n                        balance={currentTask.balance}\r\n                        child={currentTask.id}\r\n                        plan='inbox'\r\n                    />\r\n                    : null\r\n            }\r\n\r\n            <div className='button_block'>\r\n                <Button\r\n                    onClick={saveCurrentTask}\r\n                    loading={isFetching}\r\n                >\r\n                    Сохранить\r\n                </Button>\r\n                <Button\r\n                    onClick={deleteHandler}\r\n                    loading={isFetching}\r\n                >\r\n                    Удалить\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { DatePicker, Select, Button, Radio, Switch } from 'antd';\r\nimport moment from 'moment';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { sortableContainer } from 'react-sortable-hoc';\r\n\r\nimport { ParentTask } from '../ParentTask/ParentTask';\r\nimport Subtask from '../Subtask/Subtask';\r\nimport { SubtaskEdit } from '../Subtask/SubtaskEdit';\r\nimport { Do } from '../Do/Do';\r\n\r\nimport { changeCurrentTask, selectTasks } from '../../app/taskReducer';\r\nimport { deleteTaskThunk, saveTaskThunk } from '../../app/thunks';\r\n\r\nimport './ModalForm.css'\r\nimport { getDateFromConstant } from '../../config/helpers';\r\nimport { DATE_CONSTANTS } from '../../config/domain';\r\n\r\n\r\nconst SortableContainer = sortableContainer(({ children }) => {\r\n    return <div>{children}</div>;\r\n});\r\n\r\n\r\nexport const ModalEdit = () => {\r\n\r\n\r\n    const { Option } = Select;\r\n    const { currentTask, tasks, isplan, isFetching } = useSelector(selectTasks)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [isSubtask, setIsSubtask] = useState(false)\r\n\r\n    const handleChangeName = e => {\r\n        changeCurrentTask('name', e.target.value)\r\n        dispatch(changeCurrentTask({ type: 'name', value: e.target.value }))\r\n    }\r\n\r\n    const handleChangeType = (value, option) => {\r\n        console.log(\"🚀 ~ file: ModalEdit.js ~ line 43 ~ handleChangeType ~ value\", value, option)\r\n        dispatch(changeCurrentTask({ type: option, value }))\r\n        // dispatch(changeCurrentTask({ type: option, value: value.target.value }))\r\n    }\r\n\r\n    const handleChangeDate = (date, dateString) => {\r\n        console.log(\"🚀 ~ file: ModalEdit.js ~ line 39 ~ handleChangeDate ~ dateString\", dateString)\r\n\r\n        dispatch(changeCurrentTask({ type: 'date', value: dateString }))\r\n    }\r\n\r\n    const setDateFromConstants = (dateConstant) => {\r\n        const date = getDateFromConstant(dateConstant)\r\n        dispatch(changeCurrentTask({ type: 'date', value: date }))\r\n    }\r\n\r\n    // const keyPressHandler = e => {\r\n    //     if (e.keyCode === 13 && e.ctrlKey) {\r\n    //         setIsSubtask(true)\r\n    //     }\r\n    // }\r\n\r\n    const deleteHandler = () => {\r\n        dispatch(deleteTaskThunk(currentTask.id))\r\n    }\r\n\r\n    const saveCurrentTask = () => {\r\n        dispatch(saveTaskThunk(currentTask))\r\n    }\r\n\r\n    const sortHandler = async ({ oldIndex, newIndex }) => {\r\n        // setTasks(tasks => arrayMove(tasks, oldIndex, newIndex))\r\n        // await API.reindex(plan, oldIndex, newIndex)\r\n    }\r\n\r\n    const parentTasks = tasks.find(task => task.id === currentTask.child)\r\n\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                currentTask.type !== 'проект'\r\n                    ? <ParentTask\r\n                        name={currentTask.parentname}\r\n                        id={currentTask.parentid}\r\n                    />\r\n                    : null\r\n            }\r\n            <div>\r\n                <div className='flex'>\r\n                    <Do task={currentTask} />\r\n                    <TextareaAutosize\r\n                        className='input_name'\r\n                        value={currentTask.name}\r\n                        onChange={handleChangeName}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className='input_block'>\r\n                <div className='input_div'>\r\n                    <div>Тип задачи</div>\r\n                    <Radio.Group onChange={value => handleChangeType(value, 'type')} value={currentTask.type}>\r\n                        <Radio value={\"задача\"}>задача</Radio>\r\n                        <Radio value={\"проект\"}>проект</Radio>\r\n                    </Radio.Group>\r\n                </div>\r\n\r\n                <div className='input_div'>\r\n                    <div>Сфера жизни</div>\r\n                    <Select\r\n                        onChange={value => handleChangeType(value, 'balance')}\r\n                        value={currentTask.balance}\r\n                        style={{ width: 200 }}\r\n                        size='large'\r\n                    >\r\n                        <Option value=\"работа\">работа</Option>\r\n                        <Option value=\"проект\">проект</Option>\r\n                        <Option value=\"развитие\">развитие</Option>\r\n                        <Option value=\"семья\">семья</Option>\r\n                        <Option value=\"здоровье\">здоровье</Option>\r\n                        <Option value=\"быт\">быт</Option>\r\n                        <Option value=\"отдых\">отдых</Option>\r\n                    </Select>\r\n                </div>\r\n            </div>\r\n\r\n            <div className='input_block'>\r\n                <div className='input_div'>\r\n                    <div>Цель</div>\r\n                    {/* <Select\r\n                        onChange={value => handleChangeType(value, 'goal')}\r\n                        value={currentTask.goal}\r\n                        style={{ width: 200 }}\r\n                        size='large'\r\n                    >\r\n                        <Option value={true}>Да</Option>\r\n                        <Option value={false}>Нет</Option>\r\n                    </Select> */}\r\n                    <Switch defaultChecked={currentTask.goal} onChange={value => handleChangeType(value, 'goal')} />\r\n                </div>\r\n                {\r\n                    // currentTask.type !== 'проект'\r\n                    //     ? <div className='input_div'>\r\n                    //         <div>Действие</div>\r\n                    //         <Select\r\n                    //             onChange={value => handleChangeType(value, 'action')}\r\n                    //             value={currentTask.action}\r\n                    //             style={{ width: 200 }}\r\n                    //             size='large'\r\n                    //         >\r\n                    //             <Option value=\"do\">лягушка</Option>\r\n                    //             {/* <Option value=\"wait\">простая</Option>\r\n                    //             <Option value=\"go\">go</Option> */}\r\n                    //             <Option value=\"call\">простая</Option>\r\n                    //         </Select>\r\n                    //     </div>\r\n                    //     : null\r\n                }\r\n                {/* <div className='input_div'>\r\n                    <div>Действие</div>\r\n                    <Select\r\n                        onChange={value => handleChangeType(value, 'action')}\r\n                        value={currentTask.action}\r\n                        style={{ width: 200 }}\r\n                        size='large'\r\n                    >\r\n                        <Option value=\"do\">do</Option>\r\n                        <Option value=\"wait\">wait</Option>\r\n                        <Option value=\"go\">go</Option>\r\n                        <Option value=\"call\">call</Option>\r\n                    </Select>\r\n                </div> */}\r\n            </div>\r\n            {\r\n                currentTask.type !== 'проект'\r\n                    ? <div className='input_block'>\r\n                        {/* <div className='input_div'>\r\n                            <div>Необходимое время</div>\r\n                            <Select\r\n                                onChange={value => handleChangeType(value, 'period')}\r\n                                value={currentTask.period}\r\n                                style={{ width: 200 }}\r\n                                size='large'\r\n                            >\r\n                                <Option value=\"5\">5</Option>\r\n                                <Option value=\"15\">15</Option>\r\n                                <Option value=\"30\">30</Option>\r\n                                <Option value=\"45\">45</Option>\r\n                                <Option value=\"60\">60</Option>\r\n                                <Option value=\"90\">90</Option>\r\n                                <Option value=\"120\">120</Option>\r\n                                <Option value=\"180\">180</Option>\r\n                                <Option value=\"240\">240</Option>\r\n                            </Select>\r\n                        </div> */}\r\n                        <div className='input_div'>\r\n                            <div>Дата</div>\r\n                            <DatePicker\r\n                                // value={currentTask.date ? moment(currentTask.date, 'YYYY-MM-DD') : null}\r\n                                value={currentTask.date ? moment(currentTask.date) : null}\r\n                                onChange={handleChangeDate}\r\n                                style={{ width: 200 }}\r\n                                size='large'\r\n                            />\r\n                            <div>\r\n                                {\r\n                                    DATE_CONSTANTS.map(item => <span key={item.eng} className='date_constant' onClick={() => setDateFromConstants(item.eng)}>{item.ru}</span>)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    : null\r\n            }\r\n\r\n            {/* <div className='input_block'>\r\n                <div className='input_div'>\r\n                    <div>Необходимое время</div>\r\n                    <Select\r\n                        onChange={value => handleChangeType(value, 'period')}\r\n                        value={currentTask.period}\r\n                        style={{ width: 200 }}\r\n                        size='large'\r\n                    >\r\n                        <Option value=\"5\">5</Option>\r\n                        <Option value=\"15\">15</Option>\r\n                        <Option value=\"30\">30</Option>\r\n                        <Option value=\"45\">45</Option>\r\n                        <Option value=\"60\">60</Option>\r\n                        <Option value=\"90\">90</Option>\r\n                        <Option value=\"120\">120</Option>\r\n                        <Option value=\"180\">180</Option>\r\n                        <Option value=\"240\">240</Option>\r\n                    </Select>\r\n                </div>\r\n                <div className='input_div'>\r\n                    <div>Дата</div>\r\n                    <DatePicker\r\n                        // value={currentTask.date ? moment(currentTask.date, 'YYYY-MM-DD') : null}\r\n                        value={currentTask.date ? moment(currentTask.date) : null}\r\n                        onChange={handleChangeDate}\r\n                        style={{ width: 200 }}\r\n                        size='large'\r\n                    />\r\n                </div>\r\n            </div> */}\r\n            {/* {\r\n                currentTask.type !== 'проект'\r\n                    ? <div className='input_block'>\r\n                        <div className='input_div'>\r\n                            <div>Повторяющаяся</div>\r\n                            <Select\r\n                                onChange={value => handleChangeType(value, 'repeat')}\r\n                                value={currentTask.repeat}\r\n                                style={{ width: 200 }}\r\n                                size='large'\r\n                            >\r\n                                <Option value={false}>нет</Option>\r\n                                <Option value={true}>да</Option>\r\n                            </Select>\r\n                        </div>\r\n                        {\r\n                            currentTask.repeat\r\n                                ? <div className='input_div'>\r\n                                    <div>Повторяющаяся</div>\r\n                                    <Select\r\n                                        onChange={value => handleChangeType(value, 'repeatday')}\r\n                                        value={currentTask.repeatday}\r\n                                        style={{ width: 200 }}\r\n                                        size='large'\r\n                                    >\r\n                                        <Option value={1}>1</Option>\r\n                                        <Option value={2}>2</Option>\r\n                                        <Option value={3}>3</Option>\r\n                                        <Option value={7}>7</Option>\r\n                                        <Option value={30}>30</Option>\r\n                                    </Select>\r\n                                </div>\r\n                                : null\r\n                        }\r\n                    </div>\r\n                    : null\r\n            } */}\r\n\r\n            {/* <div className='input_block'>\r\n                <div className='input_div'>\r\n                    <div>Повторяющаяся</div>\r\n                    <Select\r\n                        onChange={value => handleChangeType(value, 'repeat')}\r\n                        value={currentTask.repeat}\r\n                        style={{ width: 200 }}\r\n                        size='large'\r\n                    >\r\n                        <Option value={false}>нет</Option>\r\n                        <Option value={true}>да</Option>\r\n                    </Select>\r\n                </div>\r\n                {\r\n                    currentTask.repeat\r\n                        ? <div className='input_div'>\r\n                            <div>Повторяющаяся</div>\r\n                            <Select\r\n                                onChange={value => handleChangeType(value, 'repeatday')}\r\n                                value={currentTask.repeatday}\r\n                                style={{ width: 200 }}\r\n                                size='large'\r\n                            >\r\n                                <Option value={1}>1</Option>\r\n                                <Option value={2}>2</Option>\r\n                                <Option value={3}>3</Option>\r\n                                <Option value={30}>30</Option>\r\n                            </Select>\r\n                        </div>\r\n                        : null\r\n                }\r\n            </div> */}\r\n\r\n\r\n            {/* <div className='input_div'>\r\n                <div>План выполнить</div>\r\n                <Select\r\n                    onChange={value => handleChangeType(value, 'plan')}\r\n                    value={currentTask.plan}\r\n                    style={{ width: '100%' }}\r\n                    size='large'\r\n                >\r\n                    <Option value=\"inbox\">inbox</Option>\r\n                    <Option value=\"today\">today</Option>\r\n                    <Option value=\"week\">week</Option>\r\n                    <Option value=\"upcoming\">upcoming</Option>\r\n                    <Option value=\"later\">later</Option>\r\n                </Select>\r\n            </div> */}\r\n\r\n\r\n\r\n\r\n            {/* <div className='input_div'>\r\n                <div>План выполнить</div>\r\n                <Select onChange={value => handleChangeType(value, 'plan')} value={currentTask.plan}>\r\n                    <Option value=\"inbox\">inbox</Option>\r\n                    <Option value=\"today\">today</Option>\r\n                    <Option value=\"upcoming\">upcoming</Option>\r\n                    <Option value=\"later\">later</Option>\r\n                </Select>\r\n            </div>\r\n\r\n            {\r\n                currentTask.type !== 'проект'\r\n                    ? <>\r\n                        <div className='input_div'>\r\n                            <div>Необходимое время</div>\r\n                            <Select onChange={value => handleChangeType(value, 'period')} value={currentTask.period}>\r\n                                <Option value=\"5\">5</Option>\r\n                                <Option value=\"15\">15</Option>\r\n                                <Option value=\"30\">30</Option>\r\n                                <Option value=\"45\">45</Option>\r\n                                <Option value=\"60\">60</Option>\r\n                                <Option value=\"90\">90</Option>\r\n                                <Option value=\"120\">120</Option>\r\n                                <Option value=\"180\">180</Option>\r\n                                <Option value=\"240\">240</Option>\r\n                            </Select>\r\n                        </div>\r\n                        <div className='input_div'>\r\n                            <div>Действие</div>\r\n                            <Select onChange={value => handleChangeType(value, 'action')} value={currentTask.action}>\r\n                                <Option value=\"do\">do</Option>\r\n                                <Option value=\"wait\">wait</Option>\r\n                                <Option value=\"go\">go</Option>\r\n                                <Option value=\"call\">call</Option>\r\n                            </Select>\r\n                        </div>\r\n                        <div className='input_div'>\r\n                            <div>Повторяющаяся</div>\r\n                            <Select onChange={value => handleChangeType(value, 'repeat')} value={currentTask.repeat}>\r\n                                <Option value={false}>нет</Option>\r\n                                <Option value={true}>да</Option>\r\n                            </Select>\r\n                        </div>\r\n                        <div className='input_div'>\r\n                            <div>Дата</div>\r\n                            <DatePicker\r\n                                // value={currentTask.date ? moment(currentTask.date, 'YYYY-MM-DD') : null}\r\n                                value={currentTask.date ? moment(currentTask.date) : null}\r\n                                onChange={handleChangeDate}\r\n                            />\r\n                        </div>\r\n                    </>\r\n                    : null\r\n            }\r\n            {\r\n                currentTask.plan === 'today' && isplan\r\n                    ? <div className='input_div'>\r\n                        <div>Почему дополняешь план?</div>\r\n                        <TextareaAutosize />\r\n                    </div>\r\n                    : null\r\n            }\r\n            {\r\n                currentTask.repeat\r\n                    ? <div className='input_div'>\r\n                        <div>Повторяющаяся</div>\r\n                        <Select onChange={value => handleChangeType(value, 'repeatday')} value={currentTask.repeatday}>\r\n                            <Option value={1}>1</Option>\r\n                            <Option value={2}>2</Option>\r\n                            <Option value={3}>3</Option>\r\n                            <Option value={30}>30</Option>\r\n                        </Select>\r\n                    </div>\r\n                    : null\r\n            } */}\r\n\r\n            {\r\n                currentTask.type === 'проект'\r\n                    ? <>\r\n                        <div className='subtask_block'>\r\n                            <div>Подзадачи</div>\r\n                            <div\r\n                                onClick={() => setIsSubtask(true)}\r\n                                className='subtask_button'\r\n                            >\r\n                                +\r\n                            </div>\r\n                        </div>\r\n\r\n                        <SortableContainer\r\n                            onSortEnd={sortHandler}\r\n                            useDragHandle\r\n                        >\r\n                            {currentTask.subtasks.map((subtask, index) => (\r\n                                <Subtask\r\n                                    task={subtask}\r\n                                    key={subtask.id}\r\n                                    index={index}\r\n                                />\r\n                            ))}\r\n                        </SortableContainer>\r\n                        {\r\n                            isSubtask\r\n                                ? <SubtaskEdit\r\n                                    close={() => setIsSubtask(false)}\r\n                                    goal={currentTask.goal}\r\n                                    balance={currentTask.balance}\r\n                                    child={currentTask.id}\r\n                                    plan='inbox'\r\n                                />\r\n                                : null\r\n                        }\r\n                    </>\r\n                    : null\r\n            }\r\n\r\n\r\n\r\n\r\n            <div className='button_block'>\r\n                <Button\r\n                    onClick={saveCurrentTask}\r\n                    loading={isFetching}\r\n                >\r\n                    Сохранить\r\n                </Button>\r\n                <Button\r\n                    onClick={deleteHandler}\r\n                    loading={isFetching}\r\n                >\r\n                    Удалить\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport Modal from 'react-modal';\r\n\r\nimport { ModalEdit } from './ModalEdit';\r\nimport { ModalNew } from './ModalNew';\r\n\r\nimport './ModalForm.css'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectTasks, closeModal } from '../../app/taskReducer';\r\nimport { ProjectForm } from './ProjectForm';\r\nimport { TaskForm } from './TaskForm';\r\n\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        width: '500px',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: '-50%',\r\n        transform: 'translate(-50%, -50%)'\r\n    }\r\n};\r\n\r\n\r\nconst modals = {\r\n    project: ProjectForm,\r\n    task: TaskForm,\r\n    new: ModalNew,\r\n};\r\n\r\n\r\nexport const ModalForm = () => {\r\n\r\n    const { modalIsOpen, typeOfModal } = useSelector(selectTasks)\r\n    const dispatch = useDispatch()\r\n\r\n    const ModalComponent = modals[typeOfModal];\r\n\r\n\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={modalIsOpen}\r\n            onRequestClose={() => dispatch(closeModal())}\r\n            ariaHideApp={false}\r\n            style={customStyles}\r\n        >\r\n            <ModalComponent />\r\n            {/* {\r\n                typeOfModal === 'new' ? <ModalNew /> : <ModalEdit />\r\n            } */}\r\n        </Modal>\r\n    )\r\n}","import React from 'react';\r\nimport { DatePicker, Select, Button, Radio, Switch } from 'antd';\r\nimport moment from 'moment';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { ParentTask } from '../ParentTask/ParentTask';\r\nimport { Do } from '../Do/Do';\r\nimport { changeCurrentTask, selectTasks } from '../../app/taskReducer';\r\nimport { deleteTaskThunk, saveTaskThunk } from '../../app/thunks';\r\nimport { getDateFromConstant } from '../../config/helpers';\r\nimport { DATE_CONSTANTS } from '../../config/domain';\r\n\r\nimport './ModalForm.css'\r\n\r\n\r\n\r\nexport const TaskForm = () => {\r\n\r\n    const { Option } = Select;\r\n    const { currentTask, tasks, isFetching } = useSelector(selectTasks)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const handleChangeName = e => {\r\n        changeCurrentTask('name', e.target.value)\r\n        dispatch(changeCurrentTask({ type: 'name', value: e.target.value }))\r\n    }\r\n\r\n    const handleChangeType = (value) => {\r\n        dispatch(changeCurrentTask({ type: 'type', value: value.target.value }))\r\n    }\r\n\r\n    const handleChangeImportant = value => {\r\n    console.log(\"🚀 ~ file: TaskForm.js ~ line 35 ~ handleChangeImportant ~ value\", value)\r\n        dispatch(changeCurrentTask({ type: 'important', value }))\r\n    }\r\n\r\n    const handleChangeBalance = (value) => {\r\n        dispatch(changeCurrentTask({ type: 'balance', value }))\r\n    }\r\n\r\n    const handleChangeDate = (date, dateString) => {\r\n        dispatch(changeCurrentTask({ type: 'date', value: dateString }))\r\n    }\r\n\r\n    const setDateFromConstants = (dateConstant) => {\r\n        const date = getDateFromConstant(dateConstant)\r\n        dispatch(changeCurrentTask({ type: 'date', value: date }))\r\n    }\r\n\r\n    // const keyPressHandler = e => {\r\n    //     if (e.keyCode === 13 && e.ctrlKey) {\r\n    //         setIsSubtask(true)\r\n    //     }\r\n    // }\r\n\r\n    const deleteHandler = () => {\r\n        dispatch(deleteTaskThunk(currentTask.id))\r\n    }\r\n\r\n    const saveCurrentTask = () => {\r\n        if (currentTask.balance) {\r\n            dispatch(saveTaskThunk(currentTask))\r\n        }      \r\n    }\r\n\r\n\r\n    const parentTasks = tasks.find(task => task.id === currentTask.child)\r\n\r\n\r\n    return (\r\n        <div>\r\n            <ParentTask\r\n                name={currentTask.parentname}\r\n                id={currentTask.parentid}\r\n            />\r\n\r\n            <div>\r\n                <div className='flex'>\r\n                    <Do task={currentTask} />\r\n                    <TextareaAutosize\r\n                        className='input_name'\r\n                        value={currentTask.name}\r\n                        onChange={handleChangeName}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className='input_block'>\r\n\r\n                <div className='input_div'>\r\n                    <div>Тип задачи</div>\r\n                    <Radio.Group onChange={handleChangeType} value={currentTask.type}>\r\n                        <Radio value={\"задача\"}>задача</Radio>\r\n                        <Radio value={\"проект\"}>проект</Radio>\r\n                    </Radio.Group>\r\n                </div>\r\n\r\n                <div className='input_div'>\r\n                    <div>Сфера жизни</div>\r\n                    <Select\r\n                        onChange={handleChangeBalance}\r\n                        value={currentTask.balance}\r\n                        style={{ width: 200 }}\r\n                        size='large'\r\n                    >\r\n                        <Option value=\"работа\">работа</Option>\r\n                        <Option value=\"проект\">проект</Option>\r\n                        <Option value=\"развитие\">развитие</Option>\r\n                        <Option value=\"семья\">семья</Option>\r\n                        <Option value=\"здоровье\">здоровье</Option>\r\n                        <Option value=\"быт\">быт</Option>\r\n                        <Option value=\"отдых\">отдых</Option>\r\n                    </Select>\r\n                </div>\r\n            </div>\r\n\r\n            <div className='input_block'>\r\n                <div className='input_div'>\r\n                    <div>Цель</div>\r\n                    <Switch defaultChecked={currentTask.goal} onChange={value => handleChangeType(value, 'goal')} />\r\n                </div>\r\n                <div className='input_div'>\r\n                    <div>Важно</div>\r\n                    <Switch defaultChecked={currentTask.important} onChange={handleChangeImportant} />\r\n                </div>\r\n            </div>\r\n            {\r\n                currentTask.type !== 'проект'\r\n                    ? <div className='input_block'>\r\n                        <div className='input_div'>\r\n                            <div>Дата</div>\r\n                            <DatePicker\r\n                                // value={currentTask.date ? moment(currentTask.date, 'YYYY-MM-DD') : null}\r\n                                value={currentTask.date ? moment(currentTask.date) : null}\r\n                                onChange={handleChangeDate}\r\n                                style={{ width: 200 }}\r\n                                size='large'\r\n                            />\r\n                            <div>\r\n                                {\r\n                                    DATE_CONSTANTS.map(item => <span key={item.eng} className='date_constant' onClick={() => setDateFromConstants(item.eng)}>{item.ru}</span>)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    : null\r\n            }\r\n\r\n            <div className='button_block'>\r\n                <Button\r\n                    onClick={saveCurrentTask}\r\n                    loading={isFetching}\r\n                >\r\n                    Сохранить\r\n                </Button>\r\n                <Button\r\n                    onClick={deleteHandler}\r\n                    loading={isFetching}\r\n                >\r\n                    Удалить\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport { Button } from 'antd';\r\n\r\nimport { selectTasks } from '../../app/taskReducer';\r\nimport { addTaskThunk } from '../../app/thunks';\r\n\r\nimport './ModalForm.css'\r\n\r\nexport const ModalNew = () => {\r\n\r\n    const [name, setName] = useState('')\r\n\r\n    const { currentTask, isFetching } = useSelector(selectTasks)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const saveKeyHandler = event => {\r\n        if (event.charCode === 13 && event.ctrlKey) {\r\n            if (name !== '') {\r\n                dispatch(addTaskThunk({ ...currentTask, name: name }))\r\n            }\r\n        }\r\n    }\r\n\r\n    const saveHandler = () => {\r\n        if (name !== '') {\r\n            dispatch(addTaskThunk({ ...currentTask, name: name }))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div\r\n            onKeyPress={saveKeyHandler}\r\n        >\r\n            <TextareaAutosize\r\n                value={name}\r\n                className='input_name'\r\n                onChange={e => setName(e.target.value)}\r\n                autoFocus\r\n            />\r\n            {/* <input\r\n                value={name}\r\n                className='input_name'\r\n                onChange={e => setName(e.target.value)}\r\n                autoFocus\r\n            /> */}\r\n            <div className='button_block'>\r\n                <Button\r\n                    onClick={saveHandler}\r\n                    loading={isFetching}\r\n                >\r\n                    Сохранить\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { NavLink } from 'react-router-dom';\r\n\r\nimport './MainHeader.css'\r\n\r\n\r\nexport const MainHeader = () => {\r\n\r\n    return (\r\n        <div className='mainheader'>\r\n            <div>\r\n                <NavLink className='mainheader_item' to='/projects'>Проекты</NavLink>                \r\n                <NavLink className='mainheader_item' to='/tasks'>Общее планирование</NavLink>\r\n                <NavLink className='mainheader_item' to='/today'>Планирование дня</NavLink>\r\n                <NavLink className='mainheader_item' to='/do'>Выполнение</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { SortableElement, sortableHandle } from 'react-sortable-hoc';\r\nimport moment from 'moment';\r\n\r\nimport { selectTasks, setModal } from '../../app/taskReducer';\r\nimport { getProjectThunk, upTaskThunk } from '../../app/thunks';\r\nimport { Do } from '../Do/Do';\r\n// import { TasksContext } from '../../hooks/useTasks';\r\n// import './index.css'\r\nimport { Action } from '../Action/Action';\r\nimport { TASK_TYPES } from '../../config/domain';\r\nimport { useCurrentTask } from '../../hooks/useCurrentTask';\r\n\r\n\r\nexport const Project = ({ value, type, childname, childdate }) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const today = new Date()\r\n\r\n    const { filtertype } = useSelector(selectTasks)\r\n\r\n    const openProject = async () => {\r\n        const task = await dispatch(getProjectThunk(value.id))        \r\n    }\r\n\r\n\r\n    let classes = ['task_name']\r\n    if (value.goal) {\r\n        classes.push('goal')\r\n    }\r\n\r\n    // if (value.plan === 'today' && moment(today).isAfter(new Date(value.date), 'day')) {\r\n    //     classes.push('goal')\r\n    // }\r\n\r\n\r\n\r\n    // if (value.type === 'проект') {\r\n    //     classes.push('project')\r\n    // }\r\n\r\n    // let dateClasses = ['task_tag']\r\n    // if (moment(today).isSame(new Date(value.date), 'day')) {\r\n    //     dateClasses.push('day_today')\r\n    // }\r\n    // if (moment(today).isAfter(new Date(value.date), 'day')) {\r\n    //     dateClasses.push('importantTag')\r\n    // }\r\n\r\n    // let periodClasses = ['task_tag']\r\n    // if (value.period === 5) {\r\n    //     periodClasses.push('importantTag')\r\n    // }\r\n\r\n\r\n\r\n    return (\r\n        <div\r\n            className='task'\r\n            // onClick={() => dispatch(setModal({ typeOfModal: 'edit', currentTask: value }))}\r\n            onClick={openProject}\r\n        >\r\n            <div className='task_left'>\r\n                <div className='task_tools'>\r\n                    <Action type={value.action} />\r\n                </div>\r\n                <div\r\n                    className='task_name'\r\n                // onClick={() => dispatch(setModal({ typeOfModal: 'edit', currentTask: value }))}\r\n                >\r\n                    <span\r\n                        className={classes.join(' ')}\r\n                    >\r\n                        {value.name}\r\n                    </span>\r\n                </div>\r\n                {\r\n                    childname ? <span className='task_children'>{` > ${childname}`}</span> : null\r\n                }\r\n\r\n            </div>\r\n\r\n\r\n            <div className='task_right'>\r\n                <div>\r\n                    <span className='task_tag'>{childdate}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// export default SortableElement(Task)","import React, { useEffect } from 'react';\r\n\r\n// import './Tasks.css'\r\n\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectTasks } from '../app/taskReducer';\r\nimport { getProjectsThunk } from '../app/thunks';\r\nimport { BALANCE } from '../config/domain';\r\nimport { Project } from '../components/Project/Project';\r\n\r\n\r\n\r\n\r\nexport const Projects = () => {\r\n\r\n    const { projects } = useSelector(selectTasks)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        const getTasks = async () => {\r\n            await dispatch(getProjectsThunk())\r\n        }\r\n        getTasks()\r\n    }, [])\r\n\r\n    if (projects.length === 0) return null\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                BALANCE.map(item => {\r\n                    const tasks = projects.filter(task => task.balance === item)\r\n                    return (\r\n                        <div className='plantask_div'>\r\n                            <div className='plantask_date'>{item}</div>\r\n                            {\r\n                                tasks.map((task, index) => (\r\n                                    <Project\r\n                                        key={task.id}\r\n                                        index={index}\r\n                                        value={task}\r\n                                        childname={task.childname}\r\n                                        childdate={task.childdate}\r\n                                    />\r\n                                ))\r\n                            }\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport 'moment/locale/ru';\r\n// import './Tasks.css'\r\n\r\n\r\nimport { Task } from '../components/Task/Task';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectTasks } from '../app/taskReducer';\r\nimport { getPlanTasksThunk, getTasksThunk, getTodayTasksThunk } from '../app/thunks';\r\nimport { filterTodayTasks } from '../config/helpers';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const Today = () => {\r\n\r\n    const { tasks } = useSelector(selectTasks)\r\n\r\n    // const dispatch = useDispatch()\r\n\r\n    // useEffect(() => {\r\n    //     const getTasks = async () => {\r\n    //         // await dispatch(getTasksThunk())\r\n    //         await dispatch(getTodayTasksThunk())\r\n    //     }\r\n    //     getTasks()\r\n    // }, [])\r\n\r\n    const todaytasks = filterTodayTasks(tasks)\r\n\r\n\r\n    return (\r\n        <div>           \r\n            <div className='plantask_div'>\r\n                <div className='plantask_date'>СЕГОДНЯ</div>\r\n                {\r\n                    todaytasks.map((task, index) => (\r\n                        <Task\r\n                            key={task.id}\r\n                            index={index}\r\n                            value={task}\r\n                        />\r\n                    ))\r\n                }\r\n            </div>       \r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nimport { selectTasks, setModal } from './app/taskReducer'\r\nimport { Plan } from './pages/Tasks';\r\nimport { Focus } from './pages/Focus';\r\nimport { ModalForm } from './components/ModalForm/ModalForm';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport './App.css'\r\nimport { HotKeys, GlobalHotKeys } from 'react-hotkeys';\r\nimport { CURRENT_TASK } from './config/domain';\r\n\r\nimport { MainHeader } from './components/MainHeader/MainHeader';\r\n\r\n// import { PlanTasks } from './components/Tasks/PlanTasks';\r\n// import { DoTasks } from './components/Tasks/DoTasks';\r\nimport { Tasks } from './pages/Tasks';\r\nimport { Projects } from './pages/Projects';\r\nimport { Today } from './pages/Today';\r\n\r\nfunction App() {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const keyMap = {\r\n    MOVE_UP: \"ctrl+enter\"\r\n  };\r\n\r\n  const handlers = {\r\n    MOVE_UP: event => dispatch(setModal({ typeOfModal: 'new', currentTask: CURRENT_TASK }))\r\n  };\r\n\r\n  return (\r\n    <GlobalHotKeys keyMap={keyMap} handlers={handlers}>\r\n      <div className='App'>\r\n        <div className='wrapper'>\r\n          <MainHeader />\r\n          <Switch>\r\n            <Route exact path='/' component={Tasks} />\r\n            {/* <Route exact path='/plan' component={PlanTasks} /> */}\r\n            <Route exact path='/tasks' component={Tasks} />\r\n            <Route exact path='/today' component={Today} />\r\n            {/* <Route exact path='/do' component={DoTasks} /> */}\r\n            <Route exact path='/projects' component={Projects} />\r\n            <Route path='/focus' component={Focus} />\r\n          </Switch>\r\n          <ModalForm />\r\n        </div>\r\n      </div>\r\n\r\n    </GlobalHotKeys>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport taskReducer from './taskReducer'\r\n\r\n\r\nexport default configureStore({\r\n  // reducer: {\r\n  //   state: taskReducer\r\n  // },\r\n  reducer: taskReducer  ,\r\n  middleware: getDefaultMiddleware(),\r\n  devTools: process.env.NODE_ENV !== 'production', // по необходимости\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\n\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </HashRouter>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}